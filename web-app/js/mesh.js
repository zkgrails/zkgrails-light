zk.load('zul',function(){zk._n='zul.mesh';try{zk._p=zk.$package(zk._n,false,true);
zul.mesh.MeshWidget=zk.$extends(zul.Widget,{_pagingPosition:"bottom",$init:function(){this.$supers("$init",arguments);this.heads=[]},_innerWidth:"100%",$define:{pagingPosition:_zkf=function(){this.rerender()},sizedByContent:_zkf,model:null,innerWidth:function(a){if(a==null){this._innerWidth=a="100%"}if(this.eheadtbl){this.eheadtbl.style.width=a}if(this.ebodytbl){this.ebodytbl.style.width=a}if(this.efoottbl){this.efoottbl.style.width=a}}},getPageSize:function(){return this.paging.getPageSize()},setPageSize:function(a){this.paging.setPageSize(a)},getPageCount:function(){return this.paging.getPageCount()},getActivePage:function(){return this.paging.getActivePage()},setActivePage:function(a){this.paging.setActivePage(a)},inPagingMold:function(){return"paging"==this.getMold()},setHeight:function(a){this.$supers("setHeight",arguments);if(this.desktop){if(zk.ie6_&&this.ebody){this.ebody.style.height=a}this._setHgh(a);this.onSize()}},setWidth:function(a){this.$supers("setWidth",arguments);if(this.eheadtbl){this.eheadtbl.style.width=""}if(this.efoottbl){this.efoottbl.style.width=""}if(this.desktop){this.onSize()}},setStyle:function(a){if(this._style!=a){this.$supers("setStyle",arguments);if(this.desktop){this.onSize()}}},bind_:function(){this.$supers("bind_",arguments);if(this.isVflex()){var a=this.$n().style.height;if(!a||a=="auto"){this.$n().style.height="99%"}}this._bindDomNode();this._fixHeaders();if(this.ebody){this.domListen_(this.ebody,"onScroll");this.ebody.style.overflow="";if(this.efrozen){this.ebody.style.overflowX="hidden"}}zWatch.listen({onSize:this,onShow:this,beforeSize:this,onResponse:this})},unbind_:function(){if(this.ebody){this.domUnlisten_(this.ebody,"onScroll")}this.ebody=this.ehead=this.efoot=this.efrozen=this.ebodytbl=this.eheadtbl=this.efoottbl=null;zWatch.unlisten({onSize:this,onShow:this,beforeSize:this,onResponse:this});this.$supers("unbind_",arguments)},onResponse:function(){if(this.desktop&&this._shallSize){this.$n()._lastsz=null;this.onSize()}},_syncSize:function(){this._shallSize=true;if(!this.inServer&&this.desktop){this.onResponse()}},_fixHeaders:function(){if(this.head&&this.ehead){var d=true;var c=false;for(var b=this.head.firstChild;b;b=b.nextSibling){if(!c&&b._nhflex){c=true}if(b.getLabel()||b.getImage()||b.nChildren){d=false;break}}var a=this.ehead.style.display;this.ehead.style.display=d?"none":"";if(d&&c){for(var b=this.head.firstChild;b;b=b.nextSibling){if(b._nhflex){b.fixFlex_()}}}return a!=this.ehead.style.display}return false},_bindDomNode:function(){for(var b=this.$n().firstChild;b;b=b.nextSibling){switch(b.id){case this.uuid+"-head":this.ehead=b;this.eheadtbl=jq(b).find(">table:first")[0];break;case this.uuid+"-body":this.ebody=b;this.ebodytbl=jq(b).find(">table:first")[0];break;case this.uuid+"-foot":this.efoot=b;this.efoottbl=jq(b).find(">table:first")[0];break;case this.uuid+"-frozen":this.efrozen=b;break}}if(this.ebody){var a=this.ebodytbl.tBodies;if(!a||!a.length||(this.ehead&&a.length<2)){this.ebodytbl.appendChild(document.createElement("TBODY"))}this.ebodyrows=this.ebodytbl.tBodies[this.ehead?1:0].rows}if(this.ehead){this.ehdfaker=this.eheadtbl.tBodies[0].rows[0];this.ebdfaker=this.ebodytbl.tBodies[0].rows[0];if(this.efoottbl){this.eftfaker=this.efoottbl.tBodies[0].rows[0]}}},fireOnRender:function(a){if(!this._pendOnRender){this._pendOnRender=true;setTimeout(this.proxy(this._onRender),a?a:100)}},_doScroll:function(){if(!(this.fire("onScroll",this.ebody.scrollLeft).stopped)){if(this.ehead){this.ehead.scrollLeft=this.ebody.scrollLeft}if(this.efoot){this.efoot.scrollLeft=this.ebody.scrollLeft}}if(!this.paging){this.fireOnRender(zk.gecko?200:60)}},_onRender:function(){this._pendOnRender=false;var k=this.ebodyrows;if(!this.desktop||!this._model||!k||!k.length){return}var e=[],a=this.ebody.scrollTop,g=a+this.ebody.offsetHeight;for(var b=0,c=this.getBodyWidgetIterator(),h;(h=c.next());b++){if(h.isVisible()&&!h._loaded){var i=k[b],d=zk(i),f=d.offsetTop();if(f+d.offsetHeight()<a){continue}if(f>g){break}e.push(h)}}if(e.length){this.fire("onRender",{items:e})}},beforeSize:function(){var a=zk.ie6_?this.getWidth():this.$n().style.width;if(!a||a=="auto"||a.indexOf("%")>=0){var b=this.$n();if(b._lastsz&&b._lastsz.height==b.offsetHeight&&b._lastsz.width==b.offsetWidth){return}if(this.ebody){this.ebody.style.width=""}if(this.ehead){this.ehead.style.width=""}if(this.efoot){this.efoot.style.width=""}}},onSize:_zkf=function(){if(this.isRealVisible()){var a=this.$n();if(a._lastsz&&a._lastsz.height==a.offsetHeight&&a._lastsz.width==a.offsetWidth){this.fireOnRender(155);return}this._calcSize();this.fireOnRender(155);this._shallSize=false}},onShow:_zkf,_vflexSize:function(c){var e=this.$n();if(zk.ie6_){e.style.height="";e.style.height=c}var a=0;if(this.paging){var d=this.$n("pgit"),b=this.$n("pgib");if(d){a+=d.offsetHeight}if(b){a+=b.offsetHeight}}return zk(e).revisedHeight(e.offsetHeight)-(this.ehead?this.ehead.offsetHeight:0)-(this.efoot?this.efoot.offsetHeight:0)-(this.efrozen?this.efrozen.offsetHeight:0)-a},_setHgh:function(a){if(this.isVflex()||(a&&a!="auto"&&a.indexOf("%")<0)){this.ebody.style.height="";var b=this._vflexSize(a);if(b<0){b=0}this.ebody.style.height=b+"px";if(zk.ie&&this.ebody.offsetHeight){}}else{this.ebody.style.height="";this.$n().style.height=a}},_calcSize:function(){var d=this.$n();this._setHgh(d.style.height);var b=d.style.width;if(!b||b=="auto"||b.indexOf("%")>=0){b=zk(d).revisedWidth(d.offsetWidth);if(b<0){b=0}if(b){b+="px"}}if(b){this.ebody.style.width=b;if(this.ehead){this.ehead.style.width=b}if(this.efoot){this.efoot.style.width=b}}var c=this.ebody.clientWidth;if(zk.ie){if(this.eheadtbl&&this.eheadtbl.offsetWidth!=this.ebodytbl.offsetWidth){this.ebodytbl.style.width=""}if(c&&this.ebody.offsetWidth==this.ebodytbl.offsetWidth&&this.ebody.offsetWidth-c>11){if(--c<0){c=0}this.ebodytbl.style.width=c+"px"}var a=this.getHeight();if(!a||a=="auto"){a=this.ebody.offsetWidth-this.ebody.clientWidth;if(this.ebody.clientWidth&&a>11){this.ebody.style.height=this.ebody.offsetHeight+jq.scrollbarWidth()+"px"}}}if(this.ehead){if(c){this.ehead.style.width=c+"px"}if(this.isSizedByContent()&&this.ebodyrows&&this.ebodyrows.length){this.$class._adjHeadWd(this)}}else{if(this.efoot){if(c){this.efoot.style.width=c+"px"}if(this.efoottbl.rows.length&&this.ebodyrows&&this.ebodyrows.length){this.$class.cpCellWidth(this)}}}d._lastsz={height:d.offsetHeight,width:d.offsetWidth}},domFaker_:function(c,a,e){var d=this.head;c.push('<tbody style="visibility:hidden;height:0px"><tr id="',d.uuid,a,'" class="',e,'-faker">');for(var b=d.firstChild;b;b=b.nextSibling){c.push('<th id="',b.uuid,a,'"',b.domAttrs_(),'><div style="overflow:hidden"></div></th>')}c.push("</tr></tbody>")},onChildAdded_:function(e){this.$supers("onChildAdded_",arguments);if(e.$instanceof(this.getHeadWidgetClass())){this.head=e}else{if(!e.$instanceof(zul.mesh.Auxhead)){return}}var c=e.nextSibling;if(c){for(var d=this.heads,b=0,a=d.length;b<a;++b){if(d[b]==c){this.heads.splice(b,0,e);return}}}this.heads.push(e)},onChildRemoved_:function(a){this.$supers("onChildRemoved_",arguments);if(a==this.head){this.head=null;this.heads.$remove(a)}else{if(a.$instanceof(zul.mesh.Auxhead)){this.heads.$remove(a)}}}},{_adjHeadWd:function(q){var c=q.ehdfaker,l=q.ebdfaker,p=q.eftfaker;if(!c||!l||!c.cells.length||!l.cells.length||!zk(c).isRealVisible()||!q.getBodyWidgetIterator().hasNext()){return}var b=q.ehead.firstChild,m=q.head.$n();if(!m){return}if(zk.opera){if(!b.style.width){var e=true,h=q.ehead.offsetWidth;for(var f=c.cells.length;f--;){if(!c.cells[f].style.width||c.cells[f].style.width.indexOf("%")>=0){e=false;break}h-=zk.parseInt(c.cells[f].style.width)}if(!e||h>=0){b.style.tableLayout="auto"}}}var j=q.ebody.firstChild,k=Math.max(b.offsetWidth,j.offsetWidth),a=Math.min(j.parentNode.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}var g=k;b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}for(var f=l.cells.length;f--;){if(!zk(c.cells[f]).isVisible()){continue}var d=f!=0?l.cells[f].offsetWidth:g;l.cells[f].style.width=zk(l.cells[f]).revisedWidth(d)+"px";c.cells[f].style.width=l.cells[f].style.width;if(p){p.cells[f].style.width=l.cells[f].style.width}var n=zk(m.cells[f]).revisedWidth(zk.parseInt(c.cells[f].style.width));m.cells[f].style.width=n+"px";var o=m.cells[f].firstChild;o.style.width=zk(o).revisedWidth(n)+"px";g-=d}if(k!=b.offsetWidth){k=b.offsetWidth;a=Math.min(q.ebody.clientWidth,j.offsetWidth);if(k==q.ebody.offsetWidth&&q.ebody.offsetWidth>a&&q.ebody.offsetWidth-a<20){k=a}b.style.width=k+"px";if(j){j.style.width=b.style.width}if(q.efoot){q.efoot.firstChild.style.width=b.style.width}}},cpCellWidth:function(k){var x=k.efoot.firstChild.rows[0],a=k.ebodyrows;if(!x||!a||!a.length||!x.cells.length){return}var i=x.cells.length,g,l=0;for(var r=0,e=k.getBodyWidgetIterator(),m;(m=e.next());){if(!m.isVisible()||!m._loaded){continue}var f=a[r++],q=zk(f),c=f.cells,h=q.ncols(),p=c.length==h&&q.isVisible();if(p&&h>=i){l=i;g=f;break}if(h>l){g=p?f:null;l=h}else{if(h==l&&!g&&p){g=f}}}if(!l){return}var u=!g;if(u){g=document.createElement("TR");g.style.height="0px";for(var r=0;r<l;++r){g.appendChild(document.createElement("TD"))}a[0].parentNode.appendChild(g)}for(var r=l;r--;){x.cells[r].style.width=""}var b=0;for(var r=l;r--;){var t=x.cells[r],o=g.cells[r];if(zk.opera){b+=o.offsetWidth;t.style.width=zk(o).revisedWidth(o.offsetWidth)}else{t.style.width=o.offsetWidth+"px";if(l>1){var n=o.offsetWidth-t.offsetWidth;if(n!=0){n+=o.offsetWidth;if(n<0){n=0}t.style.width=n+"px"}}}}if(zk.opera&&k.isSizedByContent()){x.parentNode.parentNode.style.width=b+"px"}if(u){g.parentNode.removeChild(g)}}});
zul.mesh.HeadWidget=zk.$extends(zul.Widget,{$init:function(){this.$supers("$init",arguments);this.listen({onColSize:this},-1000)},$define:{sizable:function(){this.rerender()}},removeChildHTML_:function(e,d){this.$supers("removeChildHTML_",arguments);if(!this.$instanceof(zul.mesh.Auxhead)){for(var b,a=e.$class._faker,c=a.length;c--;){jq(e.uuid+"-"+a[c],zk).remove()}}},onColSize:function(b){var a=this.parent;if(a.isSizedByContent()){a.$class._adjHeadWd(a)}b.column._width=b.width;a._innerWidth=a.eheadtbl.style.width;a.fire("onInnerWidth",a.eheadtbl.style.width);a.fireOnRender(zk.gecko?200:60)},unbind_:function(){jq(this.hdfaker).remove();jq(this.bdfaker).remove();jq(this.ftfaker).remove();this.$supers("unbind_",arguments)},onChildAdded_:function(a){this.$supers("onChildAdded_",arguments);if(this.desktop){if(this.parent._fixHeaders()){this.parent.onSize()}}},onChildRemoved_:function(){this.$supers("onChildRemoved_",arguments);if(this.desktop){if(this.parent._fixHeaders()){this.parent.onSize()}}},beforeChildrenFlex_:function(a){return !this._inAfterChildrenFlex&&!this.parent._flexRerender},afterChildrenFlex_:function(a){this._inAfterChildrenFlex=true;try{a.updateMesh_()}finally{delete this._inAfterChildrenFlex}}},{redraw:function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")}});
zul.mesh.HeaderWidget=zk.$extends(zul.LabelImageWidget,{$define:{align:function(a){this.updateMesh_("align",a)},valign:function(a){this.updateMesh_("valign",a)},width:_zkf=function(){this.updateMesh_()},height:_zkf},updateMesh_:function(b,d){if(this.desktop){var c=this.getMeshWidget();if(c){if(c._inUpdateMesh){c._flexRerender=true;return}c._inUpdateMesh=true;try{if(!this.parent._inAfterChildrenFlex){for(var a=this.parent.firstChild;a;a=a.nextSibling){delete a._hflexWidth}}c.rerender();if(c._flexRerender){try{c.rerender()}finally{delete c._flexRerender}}}finally{delete c._inUpdateMesh}}}},setFlexSize_:function(a){if(a.width!==undefined&&a.width!="auto"&&a.width!=""){this._hflexWidth=jq.px(a.width);return{width:a.width}}else{return this.$supers("setFlexSize_",arguments)}},getParentSize_:function(b){var c=this.getMeshWidget();if(zk(c.ehead).isVisible()){return this.$supers("getParentSize_",arguments)}else{var a=c.$n();return{height:0,width:zk(a).revisedWidth(a.offsetWidth)}}},domStyle_:function(b){var a="";if(this._hflexWidth){a="width:"+this._hflexWidth+";";if(b){b.width=true}else{b={width:true}}}return a+this.$super("domStyle_",b)},getMeshWidget:function(){return this.parent?this.parent.parent:null},isSortable_:function(){return false},getColAttrs:function(){return(this._align?' align="'+this._align+'"':"")+(this._valign?' valign="'+this._valign+'"':"")},setVisible:function(a){if(this.isVisible()!=a){this.$supers("setVisible",arguments);this.updateMesh_("visible",a)}},domAttrs_:function(b){var a=this.$supers("domAttrs_",arguments);return a+this.getColAttrs()},getTextNode:function(){return jq(this.$n()).find(">div:first")[0]},bind_:function(){this.$supers("bind_",arguments);if(this.parent.isSizable()){this._initsz()}this.fixedFaker_()},unbind_:function(){if(this._drag){this._drag.destroy();this._drag=null}this.$supers("unbind_",arguments)},_initsz:function(){var b=this.$n();if(b&&!this._drag){var a=this.$class;this._drag=new zk.Draggable(this,null,{revert:true,constraint:"horizontal",ghosting:a._ghostsizing,endghosting:a._endghostsizing,snap:a._snapsizing,ignoredrag:a._ignoresizing,endeffect:a._aftersizing})}},fixedFaker_:function(){var f=this.$n(),d=zk(f).cellIndex(),b=this.getMeshWidget();for(var c,a=this.$class._faker,e=a.length;e--;){c=b["e"+a[e]];if(c&&!this.$n(a[e])){c[c.cells.length>d?"insertBefore":"appendChild"](this._createFaker(f,a[e]),c.cells[d])}}},_createFaker:function(e,c){var a=document.createElement("TH"),b=document.createElement("DIV");a.id=e.id+"-"+c;a.className=e.className;a.style.cssText=e.style.cssText;b.style.overflow="hidden";a.appendChild(b);return a},doClick_:function(a){var b=zk.Widget.$(a.domTarget);if(!zk.dragging&&(b==this||b.$instanceof(zul.wgt.Label))&&this.isSortable_()&&a.domTarget.tagName!="INPUT"){this.fire("onSort");a.stop()}else{if(a.domTarget.tagName=="INPUT"){a.stop({propagation:true})}this.$supers("doClick_",arguments)}},doMouseMove_:function(a){if(zk.dragging||!this.parent.isSizable()){return}var c=this.$n(),b=zk(c).revisedOffset();if(this._insizer(a.pageX-b[0])){jq(c).addClass(this.getZclass()+"-sizing")}else{jq(c).removeClass(this.getZclass()+"-sizing")}},doMouseOut_:function(a){if(this.parent.isSizable()){var b=this.$n();jq(b).removeClass(this.getZclass()+"-sizing")}},_insizer:function(a){return a>=this.$n().offsetWidth-10}},{_faker:["hdfaker","bdfaker","ftfaker"],_ghostsizing:function(d,c,a){var f=d.control,b=f.getMeshWidget().eheadtbl,e=zk(b).revisedOffset(),g=f.$n();c[1]=e[1];c[0]+=zk(g).offsetWidth();jq(document.body).append('<div id="zk_hdghost" style="position:absolute;top:'+c[1]+"px;left:"+c[0]+"px;width:3px;height:"+zk(b.parentNode.parentNode).offsetHeight()+'px;background:darkgray"></div>');return jq("#zk_hdghost")[0]},_endghostsizing:function(b,a){b._zszofs=zk(b.node).revisedOffset()[0]-zk(a).revisedOffset()[0]},_snapsizing:function(c,d){var e=c.control.$n(),a=zk(e),b=a.revisedOffset();d[0]+=a.offsetWidth();if(b[0]+c._zmin>=d[0]){d[0]=b[0]+c._zmin}return d},_ignoresizing:function(d,f,a){var e=d.control,g=e.$n(),b=zk(g),c=b.revisedOffset();if(e._insizer(f[0]-c[0])){d._zmin=10+b.padBorderWidth();return false}return true},_aftersizing:function(j,m){var s=j.control,c=s.$n(),g=zk(c),b=s.getMeshWidget(),d=j._zszofs,p=b.eheadtbl,i=p.tBodies[0].rows[0],a=g.revisedWidth(d),o=i.cells,r=g.cellIndex(),h=0;for(var f=o.length;f--;){if(f!==r){h+=o[f].offsetWidth}}if(b.efoottbl){b.eftfaker.cells[r].style.width=d+"px"}var e;if(b.ebodytbl){if(zk.opera&&!b.ebodytbl.style.tableLayout){e="auto";b.ebodytbl.style.tableLayout="fixed"}b.ebdfaker.cells[r].style.width=d+"px"}i.cells[r].style.width=d+"px";c.style.width=a+"px";var l=c.firstChild;l.style.width=zk(l).revisedWidth(a)+"px";p.style.width=h+d+"px";if(b.efoottbl){b.efoottbl.style.width=p.style.width}if(b.ebodytbl){b.ebodytbl.style.width=p.style.width}if(zk.opera&&e){b.ebodytbl.style.tableLayout=e}s.parent.fire("onColSize",zk.copy({index:r,column:s,width:d+"px"},m.data),null,0);var q=s.getMeshWidget();q.$n()._lastsz=null;zWatch.fireDown("onSize",q)},redraw:function(b){var c=this.uuid,d=this.getZclass();b.push("<th",this.domAttrs_(),'><div id="',c,'-cave" class="',d,'-cnt"',this.domTextStyleAttr_(),">",this.domContent_());if(this.parent._menupopup&&this.parent._menupopup!="none"){b.push('<a id="',c,'-btn"  href="javascript:;" class="',d,'-btn"></a>')}for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></th>")}});
zul.mesh.SortWidget=zk.$extends(zul.mesh.HeaderWidget,{_sortDirection:"natural",_sortAscending:"none",_sortDescending:"none",$define:{sortDirection:function(a){var d=this.$n();if(d){var c=this.getZclass(),b=jq(d);b.removeClass(c+"-sort-dsc").removeClass(c+"-sort-asc");switch(a){case"ascending":b.addClass(c+"-sort-asc");break;case"descending":b.addClass(c+"-sort-dsc");break;default:b.addClass(c+"-sort");break}}},sortAscending:function(a){if(!a){this._sortAscending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-asc");if(this._sortDescending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}},sortDescending:function(a){if(!a){this._sortDescending=a="none"}var d=this.$n(),c=this.getZclass();if(d){var b=jq(d);if(a=="none"){b.removeClass(c+"-sort-dsc");if(this._sortAscending=="none"){b.removeClass(c+"-sort")}}else{b.addClass(c+"-sort")}}}},$init:function(){this.$supers("$init",arguments);this.listen({onSort:this},-1000)},setSort:function(a){if(a&&a.startsWith("client")){this.setSortAscending(a);this.setSortDescending(a)}else{this.setSortAscending("none");this.setSortDescending("none")}},isSortable_:function(){return this._sortAscending!="none"||this._sortDescending!="none"},sort:function(c,o){var p=this.getSortDirection();if(c){if("ascending"==p){return false}}else{if("descending"==p){return false}}var r=c?this._sortAscending:this._sortDescending;if(r=="fromServer"){return false}else{if(r=="none"){o.stop();return false}}var a=this.getMeshWidget();if(!a||a.isModel()){return false}var m=this.getMeshBody();if(!m||m.hasGroup()){return false}var u=m.desktop,q=m.$n();o.stop();try{m.unbind();var v=[],e=this.getChildIndex();for(var t=0,j=0,f=a.getBodyWidgetIterator(),l;(l=f.next());j++){for(var s=0,b=l.firstChild;b;b=b.nextSibling,s++){if(s==e){v[t++]={wgt:b,index:j}}}}var g=p=="ascending"?-1:1,h=this.sorting,n=r=="client(number)";v.sort(function(i,d){var k=h(i.wgt,d.wgt,n)*g;if(k==0){k=(i.index<d.index?-1:1)}return k});for(var t=0,s=v.length;t<s;t++){m.appendChild(v[t].wgt.parent)}this._fixDirection(c)}finally{m.replaceHTML(q,u)}return true},sorting:function(d,c,e){var g,f;if(typeof d.getLabel=="function"){g=d.getLabel()}else{if(typeof d.getValue=="function"){g=d.getValue()}else{g=d}}if(typeof c.getLabel=="function"){f=c.getLabel()}else{if(typeof c.getValue=="function"){f=c.getValue()}else{f=c}}if(e){return g-f}return g>f?1:(g<f?-1:0)},_fixDirection:function(b){for(var a=this.parent.firstChild;a;a=a.nextSibling){a.setSortDirection(a!=this?"natural":b?"ascending":"descending")}},onSort:function(a){var b=this.getSortDirection();if("ascending"==b){this.sort(false,a)}else{if("descending"==b){this.sort(true,a)}else{if(!this.sort(true,a)){this.sort(false,a)}}}},domClass_:function(d){var b=this.$supers("domClass_",arguments);if(!d||!d.zclass){var c=this.getZclass(),a;if(this._sortAscending!="none"||this._sortDescending!="none"){switch(this._sortDirection){case"ascending":a=c+"-sort-asc";break;case"descending":a=c+"-sort-dsc";break;default:a=c+"-sort";break}}return b!=null?b+(a?" "+a:""):a||""}return b}});
zul.mesh.Paging=zk.$extends(zul.Widget,{_pageSize:20,_totalSize:0,_pageCount:1,_activePage:0,_pageIncrement:10,$define:{totalSize:function(){this._updatePageNum();if(this._detailed){if(this.isBothPaging()){this.rerender()}else{var a=this.$n("info");if(a){a.innerHTML=this.infoText_()}}}},pageIncrement:_zkf=function(){this.rerender()},detailed:_zkf,pageCount:_zkf,activePage:_zkf,pageSize:function(){this._updatePageNum()},autohide:function(){if(this._pageCount==1){this.rerender()}}},setStyle:function(){this.$supers("setStyle",arguments);if(this.isBothPaging()){this.parent.rerender()}},setSclass:function(){this.$supers("setSclass",arguments);if(this.isBothPaging()){this.parent.rerender()}},setWidth:function(){this.$supers("setWidth",arguments);if(this.isBothPaging()){this.parent.rerender()}},setHeight:function(){this.$supers("setHeight",arguments);if(this.isBothPaging()){this.parent.rerender()}},setLeft:function(){this.$supers("setLeft",arguments);if(this.isBothPaging()){this.parent.rerender()}},setTop:function(){this.$supers("setTop",arguments);if(this.isBothPaging()){this.parent.rerender()}},setTooltiptext:function(){this.$supers("setTooltiptext",arguments);if(this.isBothPaging()){this.parent.rerender()}},replaceHTML:function(){if(this.isBothPaging()){this.parent.rerender()}else{this.$supers("replaceHTML",arguments)}},isBothPaging:function(){return this.parent&&this.parent.getPagingPosition&&"both"==this.parent.getPagingPosition()},_updatePageNum:function(){var a=Math.floor((this._totalSize-1)/this._pageSize+1);if(a==0){a=1}if(a!=this._pageCount){this._pageCount=a;if(this._activePage>=this._pageCount){this._activePage=this._pageCount-1}if(this.desktop&&this.parent){if(this.isBothPaging()){this.parent.rerender()}else{this.rerender()}}}},infoText_:function(){var a=(this._activePage+1)*this._pageSize;return"[ "+(this._activePage*this._pageSize+1)+("os"!=this.getMold()?" - "+(a>this._totalSize?this._totalSize:a):"")+" / "+this._totalSize+" ]"},_infoTags:function(){if(this._totalSize==0){return""}var b=(this._activePage+1)*this._pageSize,a=[];a.push('<div id="',this.uuid,'-info" class="',this.getZclass(),'-info">',this.infoText_(),"</div>");return a.join("")},_innerTags:function(){var c=[];var f=this._pageIncrement/2,d,b=this._activePage+f-1;if(b>=this._pageCount){b=this._pageCount-1;d=b-this._pageIncrement+1;if(d<0){d=0}}else{d=this._activePage-f;if(d<0){d=0}b=d+this._pageIncrement-1;if(b>=this._pageCount){b=this._pageCount-1}}var a=this.getZclass();if(this._activePage>0){if(d>0){this.appendAnchor(a,c,msgzul.FIRST,0)}this.appendAnchor(a,c,msgzul.PREV,this._activePage-1)}var e=this._activePage<this._pageCount-1;for(;d<=b;++d){if(d==this._activePage){this.appendAnchor(a,c,d+1,d,true)}else{this.appendAnchor(a,c,d+1,d)}}if(e){this.appendAnchor(a,c,msgzul.NEXT,this._activePage+1);if(b<this._pageCount-1){this.appendAnchor(a,c,msgzul.LAST,this._pageCount-1)}}if(this._detailed){c.push('<span id="',this.uuid,'-info">',this.infoText_(),"</span>")}return c.join("")},appendAnchor:function(d,b,a,e,c){d+="-cnt"+(c?" "+d+"-seld":"");b.push('<a class="',d,'" href="javascript:;" onclick="zul.mesh.Paging.go(this,',e,')">',a,"</a>&nbsp;")},getZclass:function(){var a="os"==this.getMold()?"-os":"";return this._zclass==null?"z-paging"+a:this._zclass},isVisible:function(){var a=this.$supers("isVisible",arguments);return a&&(this._pageCount>1||!this._autohide)},bind_:function(){this.$supers("bind_",arguments);if(this.getMold()=="os"){return}var a=this.uuid,h=jq.$$(a,"real"),b=this.getZclass(),f=this.$class;if(!this.inDesign){for(var g=h.length;g--;){jq(h[g]).keydown(f._domKeyDown).blur(f._domBlur)}}for(var l=["first","prev","last","next"],d=l.length;d--;){var c=jq.$$(a,l[d]);for(var e=c.length;e--;){if(!this.inDesign){jq(c[e]).mouseover(f._domMouseOver).mouseout(f._domMouseOut).mousedown(f._domMouseDown).click(f["_dom"+l[d]+"Click"])}if(this._pageCount==1){jq(c[e]).addClass(b+"-btn-disd")}else{if(l[d]=="first"||l[d]=="prev"){if(this._activePage==0){jq(c[e]).addClass(b+"-btn-disd")}}else{if(this._activePage==this._pageCount-1){jq(c[e]).addClass(b+"-btn-disd")}}}}}},unbind_:function(){if(this.getMold()!="os"){var g=this.uuid,b=jq.$$(g,"real"),a=this.$class;for(var f=b.length;f--;){jq(b[f]).unbind("keydown",a._domKeyDown).unbind("blur",a._domBlur)}for(var h=["first","prev","last","next"],c=h.length;c--;){var e=jq.$$(g,h[c]);for(var d=e.length;d--;){jq(e[d]).unbind("mouseover",a._domMouseOver).unbind("mouseout",a._domMouseOut).unbind("mousedown",a._domMouseDown).unbind("click",a["_dom"+h[c]+"Click"])}}}this.$supers("unbind_",arguments)}},{go:function(a,c){var b=zk.Widget.isInstance(a)?a:zk.Widget.$(a);if(b&&b.getActivePage()!=c){b.fire("onPaging",c)}},_domKeyDown:function(a){var c=a.target,d=zk.Widget.$(c);if(c.disabled||c.readOnly){return}var b=a.keyCode;switch(b){case 48:case 96:case 49:case 97:case 50:case 98:case 51:case 99:case 52:case 100:case 53:case 101:case 54:case 102:case 55:case 103:case 56:case 104:case 57:case 105:break;case 37:break;case 38:case 33:d.$class._increase(c,d,1);a.stop();break;case 39:break;case 40:case 34:d.$class._increase(c,d,-1);a.stop();break;case 36:d.$class.go(d,0);a.stop();break;case 35:d.$class.go(d,d._pageCount-1);a.stop();break;case 9:case 8:case 46:break;case 13:d.$class._increase(c,d,0);d.$class.go(d,c.value-1);a.stop();break;default:if(!(b>=112&&b<=123)&&!a.ctrlKey&&!a.altKey){a.stop()}}},_domBlur:function(a){var b=a.target,c=zk.Widget.$(b);if(b.disabled||b.readOnly){return}c.$class._increase(b,c,0);c.$class.go(c,b.value-1);a.stop()},_increase:function(a,d,c){var b=zk.parseInt(a.value);b+=c;if(b<1){b=1}else{if(b>d._pageCount){b=d._pageCount}}a.value=b},_domfirstClick:function(a){var g=zk.Widget.$(a),f=g.getZclass();if(g.getActivePage()!=0){g.$class.go(g,0);var e=g.uuid;for(var h=["first","prev"],b=h.length;b--;){for(var d=jq.$$(e,h[b]),c=d.length;c--;){jq(d[c]).addClass(f+"-btn-disd")}}}},_domprevClick:function(g){var j=zk.Widget.$(g),e=j.getActivePage(),b=j.getZclass();if(e>0){j.$class.go(j,e-1);if(e-1==0){var a=j.uuid;for(var h=["first","prev"],d=h.length;d--;){for(var c=jq.$$(a,h[d]),f=c.length;f--;){jq(c[f]).addClass(b+"-btn-disd")}}}}},_domnextClick:function(h){var l=zk.Widget.$(h),e=l.getActivePage(),g=l.getPageCount(),b=l.getZclass();if(e<g-1){l.$class.go(l,e+1);if(e+1==g-1){var a=l.uuid;for(var j=["last","next"],d=j.length;d--;){for(var c=jq.$$(a,j[d]),f=c.length;f--;){jq(c[f]).addClass(b+"-btn-disd")}}}}},_domlastClick:function(g){var j=zk.Widget.$(g),f=j.getPageCount(),b=j.getZclass();if(j.getActivePage()<f-1){j.$class.go(j,f-1);var a=j.uuid;for(var h=["last","next"],d=h.length;d--;){for(var c=jq.$$(a,h[d]),e=c.length;e--;){jq(c[e]).addClass(b+"-btn-disd")}}}},_domMouseOver:function(a){var c=a.target,b=jq(c).parents("table:first"),d=zk.Widget.$(c).getZclass();if(!b.hasClass(d+"-btn-disd")){b.addClass(d+"-btn-over")}},_domMouseOut:function(a){var c=a.target,b=jq(c).parents("table:first"),d=zk.Widget.$(c);if(!zk.ie||!jq.isAncestor(b[0],a.relatedTarget||a.toElement)){b.removeClass(d.getZclass()+"-btn-over")}},_domMouseDown:function(a){var c=a.target,b=jq(c).parents("table:first"),e=zk.Widget.$(c),d=e.getZclass();if(!b.hasClass(d+"-btn-disd")){b.addClass(d+"-btn-clk");e.$class._downbtn=b[0];jq(document.body).mouseup(e.$class._domMouseUp)}},_domMouseUp:function(a){if(zul.mesh.Paging._downbtn){var b=zk.Widget.$(zul.mesh.Paging._downbtn).getZclass();jq(zul.mesh.Paging._downbtn).removeClass(b+"-btn-clk")}zul.mesh.Paging._downbtn=null;jq(document.body).unbind("mouseup",zul.mesh.Paging._domMouseUp)}});
zkreg('zul.mesh.Paging');zk._m={};
zk._m['os']=function(a){if(this.getMold()=="os"){a.push("<div",this.domAttrs_(),">",this._innerTags(),"</div>");return}var b=this.uuid,c=this.getZclass();a.push('<div name="',b,'"',this.domAttrs_(),">","<table",zUtl.cellps0,'><tbody><tr><td><table id="',b,'-first" name="',b,'-first"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on">','<button type="button" class="',c,'-first"> </button></em></td>','<td class="',c,'-btn-r"><i>&#160;</i></td></tr></tbody></table></td>','<td><table id="',b,'-prev" name="',b,'-prev"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td>','<td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-prev"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><span class="',c,'-sep"/></td>','<td><span class="',c,'-text"></span></td><td><input id="',b,'-real" name="',b,'-real" type="text" class="',c,'-inp" value="',this.getActivePage()+1,'" size="3"/></td>','<td><span class="',c,'-text">/ ',this.getPageCount(),"</span></td>",'<td><span class="',c,'-sep"/></td><td><table id="',b,'-next" name="',b,'-next"',zUtl.cellps0,' class="',c,'-btn">','<tbody><tr><td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-next"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>','</tr></tbody></table></td><td><table id="',b,'-last" name="',b,'-last"',zUtl.cellps0,' class="',c,'-btn"><tbody><tr>','<td class="',c,'-btn-l"><i>&#160;</i></td><td class="',c,'-btn-m"><em unselectable="on"><button type="button" class="',c,'-last"> </button></em></td><td class="',c,'-btn-r"><i>&#160;</i></td>',"</tr></tbody></table></td></tr></tbody></table>");if(this.isDetailed()){a.push(this._infoTags())}a.push("</div>")};
;zk._m['default']=[zk._p.Paging,'os'];zkmld(zk._p.Paging,zk._m);zul.mesh.Auxhead=zk.$extends(zul.mesh.HeadWidget,{getZclass:function(){return this._zclass==null?"z-auxhead":this._zclass}});
zkreg('zul.mesh.Auxhead');zk._m={};
zk._m['default']=function(b){b.push("<tr",this.domAttrs_(),' align="left">');for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</tr>")};
;zkmld(zk._p.Auxhead,zk._m);zul.mesh.Auxheader=zk.$extends(zul.mesh.HeaderWidget,{_colspan:1,_rowspan:1,$define:{colspan:function(a){var b=this.$n();if(b){if(zk.ie){this.rerender()}else{b.colSpan=a}}},rowspan:function(a){var b=this.$n();if(b){if(zk.ie){this.rerender()}else{b.rowSpan=a}}}},fixedFaker_:zk.$void,domAttrs_:function(){var b=this.$supers("domAttrs_",arguments),a;if((a=this._colspan)!=1){b+=' colspan="'+a+'"'}if((a=this._rowspan)!=1){b+=' rowspan="'+a+'"'}return b},getZclass:function(){return this._zclass==null?"z-auxheader":this._zclass}});
zkreg('zul.mesh.Auxheader',true);zk._m={};
zk._m['default']=function(b){b.push("<th",this.domAttrs_(),'><div id="',this.uuid,'-cave" class="',this.getZclass(),'-cnt"',this.domTextStyleAttr_(),">",this.domContent_());for(var a=this.firstChild;a;a=a.nextSibling){a.redraw(b)}b.push("</div></td>")};
;zkmld(zk._p.Auxheader,zk._m);zul.mesh.Frozen=zk.$extends(zul.Widget,{$define:{columns:[function(a){return a<0?0:a},function(a){if(this._columns){if(this.desktop){this.onShow();this.syncScorll()}}else{this.rerender()}}],start:function(){this.syncScorll()}},syncScorll:function(){var a=this.$n("scrollX");if(a){a.scrollLeft=this._start*100}},getZclass:function(){return this._zclass==null?"z-frozen":this._zclass},onShow:_zkf=function(){if(!this._columns){return}var c=this.parent.ebdfaker;if(!c){c=this.parent.ebodyrows[0];if(c){c=c.$n()}}if(c){var f=0;for(var b=this._columns,g=c.firstChild;g&&b--;g=g.nextSibling){f+=g.offsetWidth}this.$n("cave").style.width=jq.px(f);var a=this.$n("scrollX"),d=this.parent.$n("body").offsetWidth;d-=f;a.style.width=jq.px(d);var e=c.childNodes.length-this._columns-1;a.firstChild.style.width=jq.px(d+100*e);this.syncScorll()}},onSize:_zkf,_onScroll:function(a){if(!a.data){return}this.setStart(this._start+2);this.parent.ebody.scrollLeft=0;a.stop()},bind_:function(){this.$supers("bind_",arguments);zWatch.listen({onShow:this,onSize:this});var a=this.$n("scrollX"),b=this.parent.$n("body");this.$n().style.height=this.$n("cave").style.height=a.style.height=a.firstChild.style.height=jq.px(jq.scrollbarWidth());this.parent.listen({onScroll:this.proxy(this._onScroll)},-1000);this.domListen_(a,"onScroll");if(b){b.style.overflowX="hidden"}},unbind_:function(){zWatch.unlisten({onShow:this,onSize:this});var a=this.parent.$n("body");if(a){a.style.overflowX=""}this.$supers("unbind_",arguments)},_doScroll:function(b){var a=this.$n("scrollX"),c=Math.ceil(a.scrollLeft/100);if(this._lastScale==c){return}this._lastScale=c;this._doScrollNow(c);this.smartUpdate("start",c);this._start=c},_doScrollNow:function(f){var b=this.$n("cave").offsetWidth,o=this.parent,d=f,p=o.ebodyrows;if(!o.head&&(!p||p.length)){return}if(o.head){for(var q,k=o.head.firstChild.$n("hdfaker");k;k=k.nextSibling){if(k.style.width.indexOf("px")==-1){var l=k.style.width=jq.px(k.offsetWidth),n=zk.Widget.$(k);if((q=n.$n("bdfaker"))){q.style.width=l}if((q=n.$n("ftfaker"))){q.style.width=l}}}for(var m,q,h=this._columns,i=o.head.nChildren-h,k=o.head.getChildAt(h).$n();k;k=k.nextSibling,h++,i--){m=d--<=0?"":"none";if(k.style.display!=m){k.style.display=m;if((q=jq("#"+k.id+"-hdfaker")[0])){q.style.display=m}if((q=jq("#"+k.id+"-bdfaker")[0])){q.style.display=m}if((q=jq("#"+k.id+"-fdfaker")[0])){q.style.display=m}for(var a=p[0],g;a&&(g=a.childNodes.length)>i;a=a.nextSibling){a.cells[g-i].style.display=m}}}for(var k=o.head.getChildAt(this._columns+f).$n("hdfaker");k;k=k.nextSibling){b+=zk.parseInt(k.style.width)}}else{for(var h=this._columns,j=p[0].firstChild;j;j=j.nextSibling){if(j.style.width.indexOf("px")==-1){j.style.width=jq.px(zk(j).revisedWidth(j.offsetWidth))}}for(var e=p[0],m,h=this._columns,g=e.childNodes.length;h<g;h++){m=d--<=0?"":"none";for(var a=e;a;a=a.nextSibling){a.cells[h].style.display=m}}for(var j=p[0].cells[this._columns+f];j;j=j.nextSibling){b+=zk.parseInt(j.style.width)}}b=jq.px(b);if(o.eheadtbl){o.eheadtbl.style.width=b}if(o.ebodytbl){o.ebodytbl.style.width=b}if(o.efoottbl){o.efoottbl.style.width=b}}});
zkreg('zul.mesh.Frozen',true);zk._m={};
zk._m['default']=function(c){var d=this.uuid,e=this.getZclass();c.push("<div",this.domAttrs_(),'><div id="',d,'-cave" class="',e,'-body">');for(var b=0,a=this.firstChild;a;a=a.nextSibling,b++){a.redraw(c)}c.push('</div><div id="',d,'-scrollX" class="',e,'-inner"><div></div></div>','<div class="z-clear"></div></div>')};
;zkmld(zk._p.Frozen,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.mesh',1);