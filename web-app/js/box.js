zk.load('zul',function(){zk._n='zul.box';try{zk._p=zk.$package(zk._n,false,true);
zul.box.Box=zk.$extends(zul.Widget,{_mold:"vertical",_align:"start",_pack:"stretch",$define:{align:[function(a){if(a=="stretch"){this._bindAlign()}else{this._unbindAlign()}return a},_zkf=function(){this.rerender()}],pack:_zkf,spacing:_zkf},isVertical:function(){return"vertical"==this._mold},getOrient:function(){return this._mold},getZclass:function(){var a=this._zclass;return a!=null?a:this.isVertical()?"z-vbox":"z-hbox"},onChildVisible_:function(b,a){this.$supers("onChildVisible_",arguments);if(this.desktop){this._fixChildDomVisible(b,a)}},replaceChildHTML_:function(a){this.$supers("replaceChildHTML_",arguments);this._fixChildDomVisible(a,a._visible)},_fixChildDomVisible:function(c,a){var b=this._chdextr(c);if(b){b.style.display=a?"":"none"}b=c.$n("chdex2");if(b){b.style.display=a&&b.offsetHeight?"":"none"}if(this.lastChild==c){b=c.previousSibling;if(b){b=b.$n("chdex2");if(b){b.style.display=a?"":"none"}}}},_chdextr:function(a){return a.$n("chdex")||a.$n()},insertChildHTML_:function(e,b,d){if(b){jq(this._chdextr(b)).before(this.encloseChildHTML_(e))}else{var c=this.$n(),a=c.tBodies;if(!a||!a.length){c.appendChild(document.createElement("TBODY"))}jq(this.isVertical()?a[0]:a[0].rows[0]).append(this.encloseChildHTML_(e,true))}e.bind(d)},removeChildHTML_:function(b,a){this.$supers("removeChildHTML_",arguments);jq(b.uuid+"-chdex",zk).remove();jq(b.uuid+"-chdex2",zk).remove();if(a&&this.lastChild==a){jq(a.uuid+"-chdex2",zk).remove()}},encloseChildHTML_:function(h,c,f){var b=[],d=h.$instanceof(zul.wgt.Cell);if(this.isVertical()){b.push('<tr id="',h.uuid,'-chdex"',this._childOuterAttrs(h),">");if(!d){b.push("<td",this._childInnerAttrs(h),">")}h.redraw(b);if(!d){b.push("</td>")}b.push("</tr>")}else{if(!d){b.push('<td id="',h.uuid,'-chdex"',this._childOuterAttrs(h),this._childInnerAttrs(h),">")}h.redraw(b);if(!d){b.push("</td>")}}if(h.nextSibling){b.push(this._spacingHTML(h))}else{if(c){var g=h.previousSibling;if(g){b.unshift(this._spacingHTML(g))}}}if(!f){return b.join("")}for(var e=0,a=b.length;e<a;++e){f.push(b[e])}},_resetBoxSize:function(){var d=this.isVertical(),c=-1,b=this._sizes;if(d){for(var a=this.firstChild;a;a=a.nextSibling){if(b&&!a.$instanceof(zul.box.Splitter)&&!a.$instanceof(zul.wgt.Cell)){++c}if(a._nvflex){a.setFlexSize_({height:""});var e=a.$n("chdex");if(e){e.style.height=b&&c<b.length?b[c]:""}}}}else{for(var a=this.firstChild;a;a=a.nextSibling){if(b&&!a.$instanceof(zul.box.Splitter)&&!a.$instanceof(zul.wgt.Cell)){++c}if(a._nhflex){a.setFlexSize_({width:""});var e=a.$n("chdex");if(e){e.style.width=b&&c<b.length?b[c]:""}}}}var f=this.$n(),g=zk(f);return g?{height:g.revisedHeight(f.offsetHeight),width:g.revisedWidth(f.offsetWidth)}:{}},beforeChildrenFlex_:function(g){if(g._flexFixed||(!g._nvflex&&!g._nhflex)){delete g._flexFixed;return false}g._flexFixed=true;var z=this.isVertical(),B=[],G=z?0:1,a=[],D=!z?0:1,r=g.$n("chdex").parentNode,o=zk(r),n=this._resetBoxSize(),i=n.height,u=n.width,y=r.firstChild,w=-1,q=this._sizes;for(;y;y=y.nextSibling){var E=y.id&&y.id.endsWith("-chdex")?z?y.firstChild.firstChild:y.firstChild:y,A=zk(E),s=false;if(A.isVisible()){var x=E.id?E.id.indexOf("-"):1,f=x<0?zk.Widget.$(E.id):null;if(q&&f&&!f.$instanceof(zul.box.Splitter)&&!f.$instanceof(zul.wgt.Cell)){++w;if(w<q.length&&q[w]&&((z&&!f._nvflex)||(!z&&!f._nhflex))){E=y;A=zk(E);s=q[w].endsWith("px")}}var e=s&&z?zk.parseInt(q[w]):zk.ie&&y.id&&y.id.endsWith("-chdex2")&&y.style.height&&y.style.height.endsWith("px")?zk.parseInt(y.style.height):A.offsetHeight(),m=s&&!z?zk.parseInt(q[w]):A.offsetWidth(),l=m+A.sumStyles("lr",jq.margins),d=e+A.sumStyles("tb",jq.margins);if(f&&f._nvflex){if(f!==g){f._flexFixed=true}if(f._vflex=="min"){_setMinFlexSize(f,E,"height")}else{B.push(f);if(z){G+=f._nvflex}}}else{if(z){i-=d}}if(f&&f._nhflex){if(f!==g){f._flexFixed=true}if(f._hflex=="min"){_setMinFlexSize(f,E,"width")}else{a.push(f);if(!z){D+=f._nhflex}}}else{if(!z){u-=l}}}}var F=i>0?i:0;for(var x=B.length-1;x>0;--x){var f=B.shift(),C=(f._nvflex*i/G)|0,h=f.$n().offsetTop,t=C-((zk.ie&&h>0)?(h*2):0);f.setFlexSize_({height:t});f._vflexsize=C;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.height=jq.px(zk(v).revisedHeight(C,true))}if(z){F-=C}}if(B.length){var f=B.shift(),h=f.$n().offsetTop,t=F-((zk.ie&&h>0)?(h*2):0);f.setFlexSize_({height:t});f._vflexsize=F;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.height=jq.px(zk(v).revisedHeight(F,true))}}F=u>0?u:0;for(var x=a.length-1;x>0;--x){var f=a.shift(),b=(f._nhflex*u/D)|0;f.setFlexSize_({width:b});f._hflexsize=b;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.width=jq.px(zk(v).revisedWidth(b,true))}if(!z){F-=b}}if(a.length){var f=a.shift();f.setFlexSize_({width:F});f._hflexsize=F;if(!f.$instanceof(zul.wgt.Cell)){var v=f.$n("chdex");v.style.width=jq.px(zk(v).revisedWidth(F,true))}}g.parent.afterChildrenFlex_(g);g._flexFixed=false;return false},_spacingHTML:function(g){var a=[],f=this._spacing,e=f&&f.startsWith("0")&&(f.length==1||zUtl.isChar(f.charAt(1),{digit:1})),c=this.isVertical(),b=f?(c?"height:":"width:")+f:"px";a.push("<t",c?"r":"d",' id="',g.uuid,'-chdex2" class="',this.getZclass(),'-sep"');var d=b;if(e||!g.isVisible()){d="display:none;"+d}if(d){a.push(' style="',d,'"')}a.push(">",c?"<td>":"",zUtl.img0,c?"</td></tr>":"</td>");return a.join("")},_childOuterAttrs:function(c){var b="";if(c.$instanceof(zul.box.Splitter)){b=' class="'+c.getZclass()+'-outer"'}else{if(this.isVertical()){if(this._isStretchPack()){var a=this._pack2;b=' valign="'+(a?zul.box.Box._toValign(a):"top")+'"'}else{b=' valign="top"'}}else{return""}}if(!c.isVisible()){b+=' style="display:none"'}return b},_childInnerAttrs:function(b){var g="",h=this.isVertical(),d=zul.box.Splitter;if(b.$instanceof(d)){return h?' class="'+b.getZclass()+'-outer-td"':""}if(this._isStretchPack()){var l=h?this.getAlign():this._pack2;if(l){g+=' align="'+zul.box.Box._toHalign(l)+'"'}}var a="",f=this._sizes;if(f){for(var e=0,i=f.length,k=this.firstChild;k&&e<i;k=k.nextSibling){if(b==k){a=(h?"height:":"width:")+f[e];break}if(!k.$instanceof(d)){++e}}}if(!h&&!b.isVisible()){a+=a?";display:none":"display:none"}if(!h){a+=a?";height:100%":"height:100%"}return a?g+' style="'+a+'"':g},_isStretchPack:function(){return this._splitterKid||this._stretchPack},_bindWatch:function(){if(!this._watchBound){this._watchBound=true;zWatch.listen({onSize:this,onShow:this,onHide:this})}},bind_:function(){this.$supers("bind_",arguments);if(this._align=="stretch"){this._bindAlign()}},unbind_:function(){if(this._watchBound){this._watchBound=false;zWatch.unlisten({onSize:this,onShow:this,onHide:this})}this._unbindAlign();this.$supers("unbind_",arguments)},_bindAlign:function(){if(!this._watchAlign){this._watchAlign=true;zWatch.listen({onSize:[this,this._fixAlign],onShow:[this,this._fixAlign],onHide:[this,this._fixAlign]})}},_unbindAlign:function(){if(!this._watchAlign){zWatch.unlisten({onSize:[this,this._fixAlign],onShow:[this,this._fixAlign],onHide:[this,this._fixAlign]});delete this._watchAlign}},_fixAlign:function(){if(this._align=="stretch"){var a=this.isVertical(),b=0;for(var f=this.firstChild;f;f=f.nextSibling){if(f.isVisible()){var e=f.$n();if(!b){var d=e.parentNode;b=a?zk(d).revisedWidth(d.offsetWidth):zk(d).revisedHeight(d.offsetHeight)}if(a){e.style.width=zk(e).revisedWidth(b,true)+"px"}else{e.style.height=zk(e).revisedHeight(b-((zk.ie&&e.offsetTop>0)?(e.offsetTop*2):0),true)+"px"}}}}},_configPack:function(){var a=this._pack;if(a){var a=a.split(",");if(a[0].trim()=="stretch"){this._stretchPack=true;this._pack2=a.length>1?a[1].trim():null}else{this._stretchPack=a.length>1&&a[1].trim()=="stretch";this._pack2=a[0].trim()}}else{delete this._pack2;delete this._stretchPack}},onSize:_zkf=function(){if(!this._splitterKid){return}var f=this.isVertical(),a=this.$n(),k=this.$n("real");k.style.height=k.style.width="100%";var b=f?k.rows:k.rows[0].cells,j=f?zk(k).revisedHeight(k.offsetHeight):zk(k).revisedWidth(k.offsetWidth);for(var e=b.length;e--;){var g=b[e];if(zk(g).isVisible()){if(f){var l=g.offsetHeight;if(g.id&&!g.id.endsWith("-chdex2")){if(g.cells.length){var h=g.cells[0];h.style.height=zk(h).revisedHeight(e?l:j)+"px";g.style.height=""}else{g.style.height=zk(g).revisedHeight(e?l:j)+"px"}}j-=l}else{var l=g.offsetWidth;if(g.id&&!g.id.endsWith("-chdex2")){g.style.width=zk(g).revisedWidth(e?l:j)+"px"}j-=l}}}},onShow:_zkf,onHide:_zkf},{_toValign:function(a){return a?"start"==a?"top":"center"==a?"middle":"end"==a?"bottom":a:null},_toHalign:function(a){return a?"start"==a?"left":"end"==a?"right":a:null}});
zkreg('zul.box.Box');zk._m={};
zk._m['vertical']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");if(!this._isStretchPack()&&this._pack2){c.push(' valign="',zul.box.Box._toValign(this._pack2),'"')}c.push('><td style="width:100%');if(zk.ie){c.push(";height:100%")}c.push('"');var b=this.getAlign();if(b&&b!="stretch"){c.push(' align="',zul.box.Box._toHalign(b),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(b=="stretch"){c.push(";width:100%")}if(this._isStretchPack()){c.push(";height:100%")}c.push('">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</table></td></tr></table>")};
;zk._m['horizontal']=function(c){delete this._splitterKid;for(var a=this.firstChild;a;a=a.nextSibling){if(a.$instanceof(zul.box.Splitter)){this._splitterKid=true;break}}this._configPack();c.push("<table",this.domAttrs_(),zUtl.cellps0,"><tr");var b=this.getAlign();if(b&&b!="stretch"){c.push(' valign="',zul.box.Box._toValign(b),'"')}c.push('><td style="width:100%;height:100%"');if(!this._isStretchPack()&&this._pack2){c.push(' align="',zul.box.Box._toHalign(this._pack2),'"')}c.push('><table id="',this.uuid,'-real"',zUtl.cellps0,'style="text-align:left');if(b=="stretch"){c.push(";height:100%")}if(this._isStretchPack()){c.push(";width:100%")}c.push('"><tr valign="',this._isStretchPack()&&b&&b!="stretch"?zul.box.Box._toValign(b):"top",'">');for(var a=this.firstChild;a;a=a.nextSibling){this.encloseChildHTML_(a,false,c)}c.push("</tr></table></td></tr></table>")};
;zkmld(zk._p.Box,zk._m);zul.box.Splitter=zk.$extends(zul.Widget,{_collapse:"none",_open:true,$define:{open:function(h,a){var f=this.$n();if(!f){return}var p=this.getCollapse();if(!p||"none"==p){return}var g=this.$n("chdex"),i=this.isVertical(),o=this.$class,m=p=="before",e=m?o._prev(g):o._next(g),k=zk.Widget.$(e),d=i?"height":"width",n;if(e){if(!h){zWatch.fireDown("onHide",k)}k.setDomVisible_(e,h);k.parent._fixChildDomVisible(k,h);var l=i&&e.cells.length?e.cells[0]:e;n=zk.parseInt(l.style[d]);if(!m&&k&&!k.nextSibling){var b=this.$n("chdex2");if(b){b.style.display=h?"":"none";n+=zk.parseInt(b.style[d])}}}var j=m?o._next(g):o._prev(g);if(j){var l=i&&j.cells.length?j.cells[0]:j;n=zk.parseInt(l.style[d])+(h?-n:n);if(n<0){n=0}l.style[d]=n+"px"}if(e&&h){zWatch.fireDown("onShow",k)}if(j){zWatch.fireDown("onSize",zk.Widget.$(j))}f.style.cursor=!h?"default":i?"s-resize":"e-resize";this._fixNSDomClass();this._fixbtn();this._fixszAll();if(!a||a.sendOnOpen){this.fire("onOpen",{open:h})}}},isVertical:function(){var a=this.parent;return !a||a.isVertical()},getOrient:function(){var a=this.parent;return a?a.getOrient():"vertical"},getCollapse:function(){return this._collapse},setCollapse:function(b){if(this._collapse!=b){var a=this._open;if(!a){this.setOpen(true,{sendOnOpen:false})}this._collapse=b;if(this.desktop){this._fixbtn();this._fixsz()}if(!a){this.setOpen(false,{sendOnOpen:false})}}},getZclass:function(){var b=this._zclass,a=this.getMold()=="os"?"z-splitter-os":"z-splitter";return b?b:a+(this.isVertical()?"-ver":"-hor")},setZclass:function(){this.$supers("setZclass",arguments);if(this.desktop){this._fixDomClass(true)}},bind_:function(){this.$supers("bind_",arguments);var e=this.parent;if(e){e._bindWatch()}zWatch.listen({onSize:this,beforeSize:this,onShow:this});this._fixDomClass();var c=this.$n(),i=this.$class,f=this.isVertical(),a=this.button=this.$n("btn");c.style.cursor=this.isOpen()?f?"s-resize":"e-resize":"default";a.style.cursor="pointer";if(!this.inDesign){var h=jq(a);if(zk.ie){h.mouseover(i.onover).mouseout(i.onout)}h.click(i.onclick)}this._fixbtn();this._drag=new zk.Draggable(this,c,{constraint:this.getOrient(),ignoredrag:i._ignoresizing,ghosting:i._ghostsizing,overlay:true,snap:i._snap,endeffect:i._endDrag});if(!this.isOpen()){var d=this.$n("chdex"),j=this.getCollapse();if(!j||"none"==j){return}var b=j=="before"?i._prev(d):i._next(d);jq(b).hide();var g=zk.Widget.$(b);g.parent._fixChildDomVisible(g,false);this._fixNSDomClass()}},unbind_:function(){zWatch.unlisten({onSize:this,beforeSize:this,onShow:this});var c=this.$class,a=this.button;if(a){var b=jq(a);if(zk.ie){b.unbind("mouseover",c.onover).unbind("mouseout",c.onout)}b.unbind("click",c.onclick)}this._drag.destroy();this._drag=null;this.$supers("unbind_",arguments)},_fixDomClass:function(b){var c=this.$n(),d=c.parentNode;if(d){var a=this.isVertical(),e=this.getZclass();if(a){d=d.parentNode}if(d&&d.id.endsWith("-chdex")){d.className=e+"-outer";if(a){c.parentNode.className=e+"-outer-td"}}}if(b){this._fixbtn()}},_fixNSDomClass:function(){jq(this.$n())[this.isOpen()?"removeClass":"addClass"](this.getZclass()+"-ns")},_fixbtn:function(){var b=jq(this.button),a=this.getCollapse();if(!a||"none"==a){b.hide()}else{var d=this.getZclass(),c=a=="before";if(!this.isOpen()){c=!c}if(this.isVertical()){b.removeClass(d+"-btn-"+(c?"b":"t"));b.addClass(d+"-btn-"+(c?"t":"b"))}else{b.removeClass(d+"-btn-"+(c?"r":"l"));b.addClass(d+"-btn-"+(c?"l":"r"))}b.show()}},_fixsz:_zkf=function(){if(!this.isRealVisible()){return}var d=this.$n(),b=d.parentNode;if(b){var c=this.button,a="before"==this.getCollapse();if(this.isVertical()){if(a){b.vAlign="top";b.style.backgroundPosition="top left"}else{b.vAlign="bottom";b.style.backgroundPosition="bottom left"}d.style.width="";d.style.width=b.clientWidth+"px";c.style.marginLeft=((d.offsetWidth-c.offsetWidth)/2)+"px"}else{if(a){b.align="left";b.style.backgroundPosition="top left"}else{b.align="right";b.style.backgroundPosition="top right"}d.style.height="";d.style.height=(zk.safari?b.parentNode.clientHeight:b.clientHeight)+"px";c.style.marginTop=((d.offsetHeight-c.offsetHeight)/2)+"px"}}},onShow:_zkf,onSize:_zkf,beforeSize:function(){this.$n().style[this.isVertical()?"width":"height"]=""},_fixszAll:function(){var a=this.parent;if(a){this.$class._fixKidSplts(a.$n())}else{this._fixsz()}}},{onclick:function(a){var b=zk.Widget.$(a);jq(b.button).removeClass(b.getZclass()+"-btn-visi");b.setOpen(!b.isOpen())},_ignoresizing:function(a,h,b){var g=a.control;if(!g.isOpen()||g.button==b.domTarget){return true}var e=a.run={},c=g.$n(),f=g.$n("chdex"),d=zul.box.Splitter;e.prev=d._prev(f);e.next=d._next(f);e.prevwgt=g.previousSibling;e.nextwgt=g.nextSibling;e.z_offset=zk(c).cmOffset();return false},_ghostsizing:function(a,d,b){var c=zk(a.node);jq(document.body).append('<div id="zk_ddghost" style="font-size:0;line-height:0;background:#AAA;position:absolute;top:'+d[1]+"px;left:"+d[0]+"px;width:"+c.offsetWidth()+"px;height:"+c.offsetHeight()+'px;"></div>');return jq("#zk_ddghost")[0]},_endDrag:function(k){var j=k.control,e=j.isVertical(),b=j.$n(),g=zul.box.Splitter,d=g._fixLayout(j),c=k.run,h,a;if(e){h=c.z_point[1];a="height";if(c.next&&c.next.cells.length){c.next=c.next.cells[0]}if(c.prev&&c.prev.cells.length){c.prev=c.prev.cells[0]}}else{h=c.z_point[0];a="width"}if(!h){return}if(c.nextwgt){zWatch.fireDown("beforeSize",c.nextwgt)}if(c.prevwgt){zWatch.fireDown("beforeSize",c.prevwgt)}var f=0;if(c.next){var i=zk.parseInt(c.next.style[a]);i-=h;if(i<0){i=0}c.next.style[a]=i+"px"}if(c.prev){var i=zk.parseInt(c.prev.style[a]);i+=h;if(i<0){i=0}c.prev.style[a]=i+"px"}if(c.nextwgt){zWatch.fireDown("onSize",c.nextwgt)}if(c.prevwgt){zWatch.fireDown("onSize",c.prevwgt)}g._unfixLayout(d);j._fixszAll();k.run=null},_snap:function(c,g){var d=c.run,e=c.control,b=g[0],f=g[1];if(e.isVertical()){if(f<=d.z_offset[1]-d.prev.offsetHeight){f=d.z_offset[1]-d.prev.offsetHeight}else{var a=d.z_offset[1]+d.next.offsetHeight-e.$n().offsetHeight;if(f>a){f=a}}}else{if(b<=d.z_offset[0]-d.prev.offsetWidth){b=d.z_offset[0]-d.prev.offsetWidth}else{var a=d.z_offset[0]+d.next.offsetWidth-e.$n().offsetWidth;if(b>a){b=a}}}d.z_point=[b-d.z_offset[0],f-d.z_offset[1]];return[b,f]},_next:function(a){return jq(a).next().next()[0]},_prev:function(a){return jq(a).prev().prev()[0]},_fixKidSplts:function(c){if(zk(c).isVisible()){var b=c.z_wgt,a=zul.box.Splitter;if(b&&b.$instanceof(a)){b._fixsz()}for(c=c.firstChild;c;c=c.nextSibling){a._fixKidSplts(c)}}}});if(zk.ie){zul.box.Splitter.onover=function(a){var b=zk.Widget.$(a);$(b.button).addClass(b.getZclass()+"-btn-visi")};zul.box.Splitter.onout=function(a){var b=zk.Widget.$(a);$(b.button).removeClass(b.getZclass()+"-btn-visi")}}if(zk.opera){zul.box.Splitter._fixLayout=function(c){var a=c.parent.$n();if(a.style.tableLayout!="fixed"){var b=[a,a.style.tableLayout];a.style.tableLayout="fixed";return b}};zul.box.Splitter._unfixLayout=function(a){if(a){a[0].style.tableLayout=a[1]}}}else{zul.box.Splitter._fixLayout=zul.box.Splitter._unfixLayout=zk.$void};
zkreg('zul.box.Splitter');zk._m={};
zk._m['os']=function(a){a.push("<div",this.domAttrs_(),'><span id="',this.uuid,'-btn"></span></div>')};
;zk._m['default']=[zk._p.Splitter,'os'];zkmld(zk._p.Splitter,zk._m);
}finally{zk.setLoaded(zk._n);}});zk.setLoaded('zul.box',1);